[Application]
name = Performance to MIDI alignment
contributor = mdw
creator = mdw
source = https://github.com/trompamusic/trompa-align
subject = Alignment
description = TBD
language = en

[ControlAction]
name = TPL Alignment Workflow
description = This workflow aligns a performance (WebMIDI JSON object) to an MEI score
num_inputs = 0
num_params = 6
num_outputs = 0

[EntryPoint]
name = Performance to MIDI alignment
description = TBD
action_platform = TBD
content_type = application/json
encoding_type = text/html
formatin = text/html
command_line = python3 /code/scripts/performance_alignment_workflow.py --smatPath /smat/AlignmentTool_v190813 --meiFile {Input1} --performanceMidiFile {Input2} --structureUri {Param1} --solidContainer {Param2} --tpl-out {Output1}
requires_docker = true
docker_image = trompa-align
docker_commands = 

[Param1]
name = performanceMidi
description = URI of a performanceMidi JSON object (WebMIDI JSON) in a Solid Pod
defaultvalue = None
multiplevalues = False
valuename = performanceMidi 
valuepattern = String
valuerequired = True
encrypted = False
field = value

[Param2]
name = meiUri
description = URI of the performed MEI file
defaultvalue = None
multiplevalues = False
valuename = meiUri 
valuepattern = String
valuerequired = True
encrypted = False
field = value

[Param3]
name = structureUri
description = URI of the structure description (JSONLD) generated from the MEI file
defaultvalue = None
multiplevalues = False
valuename = structureUri
valuepattern = String
valuerequired = True
encrypted = False
field = value

[Param4]
name = performanceContainer
description = URI of the container within the user's Solid Pod that will receive the performance alignment JSONLD
defaultvalue = None
multiplevalues = False
valuename = performanceContainer
valuepattern = String
valuerequired = True
encrypted = False
field = value

[Param5]
name = audioContainer
description = URI of the container within the user's Solid Pod that will receive the synthesised performance audio 
defaultvalue = None
multiplevalues = False
valuename = audioContainer
valuepattern = String
valuerequired = True
encrypted = False
field = value

[Param6]
name = webId
description = The user's WebID
defaultvalue = None
multiplevalues = False
valuename = webId
valuepattern = String
valuerequired = True
encrypted = False
field = value
